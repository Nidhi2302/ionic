<!--
  Generated template for the ModelCouponPopupPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <!-- <ion-navbar>
    <ion-title>model-coupon-popup</ion-title>
  </ion-navbar> -->

</ion-header>


<ion-content [ngClass]="{'coupon':this.couponDetails.qupey_type != 'Advance Purchase Required','coupon-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}">
 <ion-grid [ngClass]="{'coupon':this.couponDetails.qupey_type != 'Advance Purchase Required','coupon-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}" no-padding>
    <ion-row>
      <ion-col no-padding>
        <ion-icon [ngClass]="{'close-btn':this.couponDetails.qupey_type != 'Advance Purchase Required','close-btn-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}"  (click)="dismiss()" name="close"></ion-icon>
        <img [ngClass]="{'logo-coupon-img':this.couponDetails.qupey_type != 'Advance Purchase Required','logo-coupon-img-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}"  *ngIf="couponDetails.logo_url==null" src="assets/business-logo/user-default.png" />
        <img src="{{couponDetails.logo_url}}" *ngIf="couponDetails.logo_url!=null" [ngClass]="{'logo-coupon-img':this.couponDetails.qupey_type != 'Advance Purchase Required','logo-coupon-img-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}" />
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col text-center no-padding>
        <ion-label [ngClass]="{'business-black-name':this.couponDetails.qupey_type != 'Advance Purchase Required','business-black-name-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}">{{couponDetails.vendorname}}</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col text-center no-padding>
        <ion-label [ngClass]="{'subtitle1':this.couponDetails.qupey_type != 'Advance Purchase Required','subtitle1-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}">{{couponDetails.address1}}</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col text-center no-padding>
        <ion-label [ngClass]="{'subtitle2':this.couponDetails.qupey_type != 'Advance Purchase Required','subtitle2-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}" >{{couponDetails.address2}}</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col text-center no-padding>
        <ion-label [ngClass]="{'discount-text':this.couponDetails.qupey_type != 'Advance Purchase Required','discount-text-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}"  *ngIf="this.couponDetails.discount_type != 'Dollar Amount' && this.couponDetails.discount_type != 'Other'">{{couponDetails.qupey_type}}</ion-label>
        <ion-label [ngClass]="{'discount-text':this.couponDetails.qupey_type != 'Advance Purchase Required','discount-text-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}" *ngIf="this.couponDetails.discount_type == 'Dollar Amount'">{{couponDetails.coupon_name}}</ion-label>
        <ion-label [ngClass]="{'discount-text':this.couponDetails.qupey_type != 'Advance Purchase Required','discount-text-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}" *ngIf="this.couponDetails.discount_type == 'Other'">{{couponDetails.coupon_name}}</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col text-center no-padding>
        <ion-label [ngClass]="{'discount-des':this.couponDetails.qupey_type != 'Advance Purchase Required','discount-des-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}" >{{couponDetails.discription}}</ion-label>
      </ion-col>
    </ion-row>
    
    <ion-row class="box-row" *ngIf="this.couponDetails.discount_type == 'Punchcard'">
      <ion-col no-padding *ngFor="let i of boxCount1;let indx = index">
        <div [class]="getClass(i.isTrue)" (click)="isClicked(i,indx)"><img [hidden]="!i.isTrue" src="assets/CouponClose/rsz_1close_copy.png"/></div>
      </ion-col>
    </ion-row>
   <ion-row class="box-row" *ngIf="this.couponDetails.discount_type == 'Punchcard'">
      <ion-col no-padding *ngFor="let i of boxCount2;let indx = index">
        <div [class]="getClass(i.isTrue)"  (click)="isClicked(i,indx)"><img [hidden]="!i.isTrue" src="assets/CouponClose/rsz_1close_copy.png"/></div>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col text-center no-padding>
        <button *ngIf="this.couponDetails.discount_type == 'Percentage' || this.couponDetails.discount_type == 'Other'" type="button" ion-button class="discount-btn" (click)="goToReedemCode()" color="theme-blue-button">redeem</button>
        <button *ngIf="this.couponDetails.discount_type == 'Punchcard' && this.couponDetails.punch_count<5" type="button" ion-button class="discount-btn" (click)="goToReedemCode()" [disabled]="!boxCount1[this.couponDetails.punch_count].isTrue"  color="theme-blue-button">punch</button>
        <button *ngIf="this.couponDetails.discount_type == 'Punchcard' && this.couponDetails.punch_count>=5" type="button" ion-button class="discount-btn" (click)="goToReedemCode()" [disabled]="!boxCount2[this.couponDetails.punch_count-5].isTrue"  color="theme-blue-button">punch</button>
        <button *ngIf="this.couponDetails.qupey_type == 'Advance Purchase Required' && !this.couponDetails.payment" type="button" ion-button class="discount-btn" (click)="goToReedemCode()"  color="theme-blue-button">buy now $ {{couponDetails.purchase_amount}}</button>
        <button *ngIf="this.couponDetails.qupey_type == 'Advance Purchase Required' && this.couponDetails.payment" type="button" ion-button class="discount-btn" (click)="goToReedemCode()"  color="theme-blue-button">redeem</button>
        <button *ngIf="this.couponDetails.qupey_type == 'No Fee'" type="button" ion-button class="discount-btn" (click)="goToReedemCode()" color="theme-blue-button">redeem</button>
      </ion-col>
    </ion-row>
    <hr [ngClass]="{'inside-coupon-hr':this.couponDetails.qupey_type != 'Advance Purchase Required','inside-coupon-hr-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}" *ngIf="this.couponDetails.discount_type == 'Dollar Amount' && this.couponDetails.qupey_type == 'Advance Purchase Required'"/>
    <ion-row *ngIf="this.couponDetails.discount_type == 'Dollar Amount' && this.couponDetails.qupey_type == 'Advance Purchase Required'">
        <ion-col text-center no-padding>
          <ion-label [ngClass]="{'count-text':this.couponDetails.qupey_type != 'Advance Purchase Required','count-text-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}" >{{couponDetails.available_amount}} More Qupeys Available</ion-label>
        </ion-col>
      </ion-row>
    <hr [ngClass]="{'inside-coupon-hr':this.couponDetails.qupey_type != 'Advance Purchase Required','inside-coupon-hr-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}"/>
    <ion-row *ngIf="!isSave">
      <ion-col col-6 no-padding>
        <ion-label [ngClass]="{'save-text':this.couponDetails.qupey_type != 'Advance Purchase Required','save-text-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}"  (click)="saveCoupon()">Save</ion-label>
      </ion-col>
      <ion-col col-6 no-padding>
        <ion-label [ngClass]="{'share-text':this.couponDetails.qupey_type != 'Advance Purchase Required','share-text-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}"  (click)="shareCoupon()">Share</ion-label>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="isSave">
      <ion-col text-center no-padding>
        <ion-label [ngClass]="{'share-text2':this.couponDetails.qupey_type != 'Advance Purchase Required','share-text2-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}" (click)="shareCoupon()">Share</ion-label>
      </ion-col>
    </ion-row>
    <hr [ngClass]="{'inside-coupon-hr':this.couponDetails.qupey_type != 'Advance Purchase Required','inside-coupon-hr-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}"/>
    <ion-row>
      <ion-col col-6 no-padding>
        <ion-label [ngClass]="{'expiry-text':this.couponDetails.qupey_type != 'Advance Purchase Required','expiry-text-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}" >Expires {{couponDetails.expiration_date | todate}}</ion-label>
      </ion-col>
      <ion-col col-6 no-padding>
        <ion-label [ngClass]="{'trm-text':this.couponDetails.qupey_type != 'Advance Purchase Required','trm-text-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}"  (click)="showChange()">Terms & Conditions</ion-label>
      </ion-col>
    </ion-row>
    <ion-row [hidden]=isTerm>
        <ion-col text-center no-padding>
          <ion-label [ngClass]="{'trm-des':this.couponDetails.qupey_type != 'Advance Purchase Required','trm-des-blue':this.couponDetails.qupey_type == 'Advance Purchase Required'}" >{{couponDetails.terms_condition}}</ion-label>
        </ion-col>
      </ion-row>
  </ion-grid>
</ion-content>
