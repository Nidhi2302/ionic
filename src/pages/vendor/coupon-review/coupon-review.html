<!--
  Generated template for the CouponReviewPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header padding>
  
  <ion-row>
    <ion-col col-4 class="back-arrow-inventory">
      <ion-icon name="arrow-back" (click)="previous()"></ion-icon>
    </ion-col>
   
    <ion-col col-4 class="business-logo-inventory" text-center>
      <img class="logo-img-inventory" src="{{businessLogo}}" />
    </ion-col>
    <ion-col col-4 class="back-arrow-inventory">
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col text-center no-padding>
      <h3 class="business-main-black-name">{{this.loggedinUser.name}}</h3>
    </ion-col>
  </ion-row>
  <ion-row class="followers-inventory">
    <ion-col text-center no-padding>
      <ion-title class="followers_title-inventory">Preview</ion-title>
    </ion-col>
  </ion-row>
  <hr/>
</ion-header>


<ion-content padding>
  <ion-grid [ngClass]="{'coupon':this.coupon.qupey_type != 'Advance Purchase Required','coupon-blue':this.coupon.qupey_type == 'Advance Purchase Required'}" no-padding>
    <ion-row>
      <ion-col no-padding text-right>
        <ion-icon [ngClass]="{'close-btn':this.coupon.qupey_type != 'Advance Purchase Required','close-btn-blue':this.coupon.qupey_type == 'Advance Purchase Required'}" name="close"></ion-icon>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col no-padding text-center>
          <img [ngClass]="{'logo-coupon-img':this.coupon.qupey_type != 'Advance Purchase Required','logo-coupon-img-blue':this.coupon.qupey_type == 'Advance Purchase Required'}"  *ngIf="coupon.logo_url==null" src="assets/business-logo/user-default.png" />
          <img src="{{businessLogo}}" *ngIf="coupon.logo_url!=null" [ngClass]="{'logo-coupon-img':this.coupon.qupey_type != 'Advance Purchase Required','logo-coupon-img-blue':this.coupon.qupey_type == 'Advance Purchase Required'}" />
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col text-center no-padding>
        <ion-label [ngClass]="{'business-black-name':this.coupon.qupey_type != 'Advance Purchase Required','business-black-name-blue':this.coupon.qupey_type == 'Advance Purchase Required'}">{{loggedinUser.name}}</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col text-center no-padding>
        <ion-label [ngClass]="{'subtitle1':this.coupon.qupey_type != 'Advance Purchase Required','subtitle1-blue':this.coupon.qupey_type == 'Advance Purchase Required'}">{{coupon.address1}}</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col text-center no-padding>
        <ion-label [ngClass]="{'subtitle2':this.coupon.qupey_type != 'Advance Purchase Required','subtitle2-blue':this.coupon.qupey_type == 'Advance Purchase Required'}">{{coupon.address2}}</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col text-center no-padding>
        <ion-label [ngClass]="{'discount-text':this.coupon.qupey_type != 'Advance Purchase Required','discount-text-blue':this.coupon.qupey_type == 'Advance Purchase Required'}" *ngIf="this.coupon.discount_type != 'Dollar Amount' && this.coupon.discount_type != 'Other'">{{coupon.qupey_type}}</ion-label>
        <ion-label [ngClass]="{'discount-text':this.coupon.qupey_type != 'Advance Purchase Required','discount-text-blue':this.coupon.qupey_type == 'Advance Purchase Required'}" *ngIf="this.coupon.discount_type == 'Dollar Amount'">{{coupon.coupon_name}}</ion-label>
        <ion-label [ngClass]="{'discount-text':this.coupon.qupey_type != 'Advance Purchase Required','discount-text-blue':this.coupon.qupey_type == 'Advance Purchase Required'}" *ngIf="this.coupon.discount_type == 'Other'">{{coupon.coupon_name}}</ion-label>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col text-center no-padding>
        <ion-label [ngClass]="{'discount-des':this.coupon.qupey_type != 'Advance Purchase Required','discount-des-blue':this.coupon.qupey_type == 'Advance Purchase Required'}">{{coupon.discription}}</ion-label>
      </ion-col>
    </ion-row>
   
    <ion-row class="box-row" *ngIf="this.coupon.discount_type == 'Punchcard'">
      <ion-col no-padding *ngFor="let i of boxCount1;let indx = index">
        <div [class]="getClass(i.isTrue)" (click)="isClicked(i,indx)"><img src="assets/CouponClose/rsz_1close_copy.png"/></div>
      </ion-col>
    </ion-row>
   <ion-row class="box-row" *ngIf="this.coupon.discount_type == 'Punchcard'">
      <ion-col no-padding *ngFor="let i of boxCount2;let indx = index">
        <div [class]="getClass(i.isTrue)" (click)="isClicked(i,indx)"><img src="assets/CouponClose/rsz_1close_copy.png"/></div>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="this.coupon.discount_type == 'Percentage'">
      <ion-col text-center no-padding>
        <button type="button" ion-button class="discount-btn" color="theme-blue-button">redeem</button>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="this.coupon.discount_type == 'Other'">
        <ion-col text-center no-padding>
          <button type="button" ion-button class="discount-btn" color="theme-blue-button">redeem</button>
        </ion-col>
      </ion-row>
     <ion-row *ngIf="this.coupon.discount_type == 'Punchcard'">
      <ion-col text-center no-padding>
        <button type="button" ion-button class="discount-btn" color="theme-blue-button">punch</button>
      </ion-col>
    </ion-row>
     <ion-row *ngIf="this.coupon.discount_type == 'Dollar Amount'">
      <ion-col text-center no-padding>
        <button type="button" ion-button class="discount-btn" color="theme-blue-button">buy now</button>
      </ion-col>
    </ion-row>
    <hr [ngClass]="{'inside-coupon-hr':this.coupon.qupey_type != 'Advance Purchase Required','inside-coupon-hr-blue':this.coupon.qupey_type == 'Advance Purchase Required'}" *ngIf="this.coupon.discount_type == 'Dollar Amount' && this.coupon.qupey_type == 'Advance Purchase Required'"/>
    <ion-row *ngIf="this.coupon.discount_type == 'Dollar Amount' && this.coupon.qupey_type == 'Advance Purchase Required'">
        <ion-col text-center no-padding>
          <ion-label [ngClass]="{'count-text':this.coupon.qupey_type != 'Advance Purchase Required','count-text-blue':this.coupon.qupey_type == 'Advance Purchase Required'}">{{coupon.available_amount}} More Qupeys Available</ion-label>
        </ion-col>
      </ion-row>
    <hr [ngClass]="{'inside-coupon-hr':this.coupon.qupey_type != 'Advance Purchase Required','inside-coupon-hr-blue':this.coupon.qupey_type == 'Advance Purchase Required'}" />
    <ion-row>
      <ion-col col-6 no-padding>
        <ion-label [ngClass]="{'save-text':this.coupon.qupey_type != 'Advance Purchase Required','save-text-blue':this.coupon.qupey_type == 'Advance Purchase Required'}">Save</ion-label>
      </ion-col>
      <ion-col col-6 no-padding>
        <ion-label [ngClass]="{'share-text':this.coupon.qupey_type != 'Advance Purchase Required','share-text-blue':this.coupon.qupey_type == 'Advance Purchase Required'}">Share</ion-label>
      </ion-col>
    </ion-row>
    <hr [ngClass]="{'inside-coupon-hr':this.coupon.qupey_type != 'Advance Purchase Required','inside-coupon-hr-blue':this.coupon.qupey_type == 'Advance Purchase Required'}" />
    <ion-row>
      <ion-col col-6 no-padding>
        <ion-label [ngClass]="{'expiry-text':this.coupon.qupey_type != 'Advance Purchase Required','expiry-text-blue':this.coupon.qupey_type == 'Advance Purchase Required'}">Expires {{coupon.expiration_date | date: 'MM.dd.yy'}}</ion-label>
      </ion-col>
      <ion-col col-6 no-padding>
        <ion-label [ngClass]="{'trm-text':this.coupon.qupey_type != 'Advance Purchase Required','trm-text-blue':this.coupon.qupey_type == 'Advance Purchase Required'}">Terms & Conditions</ion-label>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-row>
    <ion-col>
      <ion-label class="help-text">Please make sure all of your details are correct because you won’t be able to edit this Qupey after it’s published.
        You can only delete it and create another one.</ion-label>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col col-6 text-left>
      <button type="button"  ion-button class="edit-btn" color="theme-blue-button" (click)="editCoupon(coupon)">Edit</button>
    </ion-col>
    <ion-col col-6 text-right>
      <button type="button" ion-button class="publish-btn" color="theme-blue-button" (click)="publishCoupon(coupon)">Publish</button>
    </ion-col>
  </ion-row>
</ion-content>
